<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PERPLEX â€” Perp DEX Analytics</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#060810;--bg2:#0a0d18;--bg3:#0e1220;--bg4:#141828;--bg5:#1a1e32;
  --border:#12162a;--border2:#1a2040;--border3:#222a50;
  --text:#e2e5ee;--text2:#98a0be;--text3:#586088;
  --blue:#4c7cf7;--cyan:#1de9c2;--green:#00d68f;--red:#ff5c6b;
  --orange:#ffaa2c;--purple:#9d6cf7;--pink:#f76cb4;
  --grad1:linear-gradient(135deg,#4c7cf7,#1de9c2);
  --grad2:linear-gradient(135deg,#9d6cf7,#f76cb4);
}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased;overflow-x:hidden}

.ambient{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
.ambient .orb{position:absolute;border-radius:50%}
.ambient .o1{width:800px;height:800px;background:radial-gradient(circle,rgba(76,124,247,.06),transparent 70%);top:-300px;left:-200px;filter:blur(60px)}
.ambient .o2{width:600px;height:600px;background:radial-gradient(circle,rgba(157,108,247,.05),transparent 70%);top:35%;right:-200px;filter:blur(60px)}
.ambient .o3{width:500px;height:500px;background:radial-gradient(circle,rgba(29,233,194,.04),transparent 70%);bottom:-100px;left:25%;filter:blur(60px)}
.ambient .o4{width:1000px;height:400px;background:radial-gradient(ellipse,rgba(76,124,247,.03),transparent 70%);top:80px;left:50%;transform:translateX(-50%);filter:blur(40px)}

.wrap{max-width:1280px;margin:0 auto;padding:0 20px;position:relative;z-index:1}

.top-banner{background:linear-gradient(90deg,rgba(76,124,247,.06),rgba(29,233,194,.04),rgba(157,108,247,.06));border-bottom:1px solid rgba(76,124,247,.07);padding:7px 0;text-align:center;position:relative;z-index:1}
.top-banner span{font-size:11px;color:var(--text2);font-weight:500}
.top-banner a{color:var(--cyan);text-decoration:none;font-weight:700;margin-left:3px}
.top-banner a:hover{text-decoration:underline}

nav{position:sticky;top:0;z-index:100;background:rgba(6,8,16,.85);backdrop-filter:blur(30px) saturate(1.6);border-bottom:1px solid var(--border)}
.nav-inner{display:flex;align-items:center;justify-content:space-between;padding:11px 0}
.logo{display:flex;align-items:center;gap:9px;text-decoration:none}
.logo-mark{width:30px;height:30px;border-radius:8px;background:var(--grad1);display:flex;align-items:center;justify-content:center;font-weight:900;font-size:14px;color:#fff;box-shadow:0 0 18px rgba(76,124,247,.25)}
.logo-text{font-size:16px;font-weight:800;letter-spacing:-.3px;color:var(--text)}.logo-sub{color:var(--text3);font-weight:400;font-size:11px;margin-left:5px;border-left:1px solid var(--border2);padding-left:8px}
.nav-r{display:flex;align-items:center;gap:8px}
.nav-chip{display:flex;align-items:center;gap:5px;padding:5px 10px;border-radius:7px;background:var(--bg3);font-size:10px;color:var(--text2);font-weight:600;border:1px solid var(--border);font-family:'JetBrains Mono',monospace}
.nav-chip .dot{width:5px;height:5px;border-radius:50%;background:var(--green);box-shadow:0 0 8px rgba(0,214,143,.6);animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.25}}
.rbtn{display:flex;align-items:center;gap:5px;padding:6px 12px;border-radius:8px;background:rgba(76,124,247,.1);border:1px solid rgba(76,124,247,.18);color:var(--blue);font-family:inherit;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s}
.rbtn:hover{background:rgba(76,124,247,.18);box-shadow:0 0 16px rgba(76,124,247,.15)}
.rbtn:disabled{opacity:.4;cursor:not-allowed}
.rbtn.spin svg{animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.hero{padding:36px 0 6px}
.hero-badge{display:inline-flex;align-items:center;gap:5px;padding:4px 10px 4px 6px;border-radius:20px;background:rgba(76,124,247,.06);border:1px solid rgba(76,124,247,.1);font-size:10px;font-weight:700;color:var(--blue);margin-bottom:14px;text-transform:uppercase;letter-spacing:.8px}
.hero-badge .hbd{width:6px;height:6px;border-radius:50%;background:var(--green);animation:blink 2s infinite}
.hero h1{font-size:clamp(26px,4.5vw,44px);font-weight:900;letter-spacing:-1.8px;line-height:1.06;margin-bottom:8px}
.hero .g1{background:var(--grad1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{color:var(--text3);font-size:13px;max-width:500px;line-height:1.65}
.status-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-top:14px;margin-bottom:6px}
.sr-chip{display:flex;align-items:center;gap:4px;font-size:10px;color:var(--text3);padding:4px 9px;border-radius:6px;background:var(--bg3);border:1px solid var(--border);font-weight:500}
.sr-chip strong{color:var(--text2)}.sr-chip.ok{color:var(--green);border-color:rgba(0,214,143,.12)}.sr-chip.err{color:var(--red);border-color:rgba(255,92,107,.12)}

.snap-panel{margin:18px 0 24px;background:linear-gradient(180deg,rgba(10,14,26,.95),rgba(8,12,22,.98));border:1px solid rgba(20,28,52,.6);border-radius:16px;padding:20px;position:relative;overflow:hidden;box-shadow:0 4px 24px rgba(0,0,0,.2),inset 0 1px 0 rgba(255,255,255,.02)}
.snap-panel::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(76,124,247,.12),rgba(29,233,194,.06),transparent)}
.snap-header{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.8px;margin-bottom:16px;display:flex;align-items:center;gap:6px}
.snap-header::before{content:'';width:4px;height:4px;border-radius:50%;background:var(--blue);box-shadow:0 0 6px rgba(76,124,247,.5)}
.snap-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.mc{background:linear-gradient(165deg,rgba(12,18,38,.85),rgba(10,14,30,.95));border:1px solid rgba(22,32,64,.7);border-radius:12px;padding:18px 16px;position:relative;overflow:hidden;transition:all .3s;box-shadow:inset 0 1px 0 rgba(255,255,255,.03),0 2px 4px rgba(0,0,0,.15),0 4px 12px rgba(0,0,0,.1),0 8px 24px rgba(0,0,0,.08)}
.mc:hover{border-color:rgba(30,42,82,.8);transform:translateY(-2px)}
.mc::before{content:'';position:absolute;top:0;left:12px;right:12px;height:1px;opacity:.5}
.mc:nth-child(1)::before{background:linear-gradient(90deg,var(--cyan),transparent)}
.mc:nth-child(2)::before{background:linear-gradient(90deg,var(--purple),transparent)}
.mc:nth-child(3)::before{background:linear-gradient(90deg,var(--blue),transparent)}
.mc:nth-child(4)::before{background:linear-gradient(90deg,var(--green),transparent)}
.mc-label{display:flex;align-items:center;gap:5px;font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.7px;color:var(--text3);margin-bottom:10px}
.mc-label .mc-dot{width:4px;height:4px;border-radius:50%}
.mc-value{font-size:clamp(20px,2.5vw,28px);font-weight:800;letter-spacing:-.5px;font-family:'JetBrains Mono','Inter',monospace;margin-bottom:4px;line-height:1.1}
.mc-sub{font-size:10px;color:var(--text3);font-weight:500}
.mcv-cyan{color:var(--cyan)}.mcv-purple{color:var(--purple)}.mcv-white{color:var(--text);font-family:'Inter',sans-serif;font-size:clamp(16px,1.8vw,22px);font-weight:800}

.dom-wrap{margin-bottom:18px}
.dom-card{background:linear-gradient(170deg,rgba(12,16,32,.92),rgba(8,12,24,.96));border:1px solid rgba(20,28,52,.5);border-radius:14px;padding:18px 20px;margin-bottom:10px;position:relative;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,.02),0 2px 8px rgba(0,0,0,.1)}
.dom-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(76,124,247,.12),transparent)}
.dom-hd{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.dom-hd h2{font-size:12px;font-weight:700;color:var(--text2);display:flex;align-items:center;gap:6px}
.dom-hd .dim{color:var(--text3);font-weight:400;font-size:10px}
.dom-hd .tl{font-size:10px;color:var(--text3);font-weight:500}.dom-hd .tl strong{color:var(--cyan)}
.dom-bar{display:flex;height:10px;border-radius:5px;overflow:hidden;background:rgba(14,18,36,.9);gap:1px;box-shadow:inset 0 1px 3px rgba(0,0,0,.3)}
.dom-seg{height:100%;min-width:3px;transition:width .7s cubic-bezier(.22,1,.36,1);border-radius:1px;cursor:pointer}
.dom-seg:hover{filter:brightness(1.35);transform:scaleY(1.2)}
.dom-seg:first-child{border-radius:5px 1px 1px 5px}.dom-seg:last-child{border-radius:1px 5px 5px 1px}
.dom-leg{display:flex;flex-wrap:wrap;gap:4px 14px;margin-top:10px}
.dli{display:flex;align-items:center;gap:4px;font-size:10px;color:var(--text3);font-weight:500}.dli strong{color:var(--text2);font-weight:700}
.dld{width:7px;height:7px;border-radius:2px;flex-shrink:0}

.panel{background:linear-gradient(170deg,rgba(12,16,32,.92),rgba(8,12,24,.96));border:1px solid rgba(20,28,52,.5);border-radius:14px;padding:18px 20px;margin-bottom:18px;position:relative;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,.02),0 2px 8px rgba(0,0,0,.1)}
.panel::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(76,124,247,.12),transparent)}
.panel-hd{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;flex-wrap:wrap;gap:8px}
.panel-hd h2{font-size:13px;font-weight:700;color:var(--text2)}

.t-sec{margin-bottom:22px}
.t-bar{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-bottom:10px}
.tabs{display:flex;gap:1px;background:var(--bg3);border-radius:9px;padding:3px;border:1px solid var(--border)}
.tb{padding:6px 13px;border-radius:7px;border:none;background:transparent;color:var(--text3);font-family:inherit;font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}
.tb:hover{color:var(--text2)}.tb.on{background:var(--bg5);color:var(--text);box-shadow:0 2px 8px rgba(0,0,0,.3)}
.sw{position:relative}
.sw svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--text3)}
.si{background:var(--bg3);border:1px solid var(--border);border-radius:9px;padding:7px 11px 7px 30px;color:var(--text);font-family:inherit;font-size:12px;outline:none;width:180px;transition:all .2s}
.si:focus{border-color:rgba(76,124,247,.35);background:var(--bg4);box-shadow:0 0 0 3px rgba(76,124,247,.06)}
.si::placeholder{color:var(--text3)}

.tw{border:1px solid rgba(20,26,48,.6);border-radius:14px;overflow:hidden;background:linear-gradient(180deg,rgba(10,14,28,.94),rgba(8,12,22,.97));box-shadow:inset 0 1px 0 rgba(255,255,255,.02),0 4px 16px rgba(0,0,0,.12);position:relative}
.tw::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(76,124,247,.18),rgba(29,233,194,.08),transparent);z-index:2}
.tsc{overflow-x:auto}
.tsc::-webkit-scrollbar{height:3px}
.tsc::-webkit-scrollbar-track{background:var(--bg2)}
.tsc::-webkit-scrollbar-thumb{background:var(--border2);border-radius:2px}

table{width:100%;border-collapse:collapse}
table.main-tbl{min-width:960px}
thead th{padding:10px 14px;text-align:left;font-size:9.5px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.8px;background:rgba(12,16,30,.95);border-bottom:1px solid var(--border);white-space:nowrap;user-select:none}
.ths{cursor:pointer;transition:color .15s;display:inline-flex;align-items:center;gap:4px}
.ths:hover{color:var(--text2)}.ths.act{color:var(--blue)}
.sa{display:inline-flex;flex-direction:column;line-height:0}
.sa .a{font-size:7px;line-height:7px;color:var(--text3);opacity:.35}.sa .a.on{color:var(--blue);opacity:1}

tbody tr{border-bottom:1px solid rgba(18,22,42,.5);transition:all .15s}
tbody tr:last-child{border-bottom:none}
tbody tr:hover{background:rgba(76,124,247,.02)}
tbody tr:nth-child(even){background:rgba(255,255,255,.006)}
tbody tr:nth-child(even):hover{background:rgba(76,124,247,.025)}
td{padding:10px 14px;font-size:12px;white-space:nowrap}

.dc{display:flex;align-items:center;gap:10px}
.dav{width:32px;height:32px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0;transition:transform .2s;box-shadow:0 2px 6px rgba(0,0,0,.12)}
tr:hover .dav{transform:scale(1.06)}
.dnf h4{font-size:12px;font-weight:700;color:var(--text);margin-bottom:1px;letter-spacing:-.2px}
.dnf span{font-size:9px;color:var(--text3);font-weight:500}
.rk{font-family:'JetBrains Mono',monospace;font-size:10px;font-weight:700;color:var(--text3);width:24px;height:22px;display:flex;align-items:center;justify-content:center;border-radius:5px}
.rk.g{background:linear-gradient(135deg,rgba(255,170,44,.15),rgba(255,170,44,.04));color:var(--orange);box-shadow:0 0 10px rgba(255,170,44,.08)}
.rk.s{background:rgba(158,163,190,.06);color:var(--text2)}
.rk.b{background:rgba(184,115,51,.06);color:#c08040}

.v{font-family:'JetBrains Mono',monospace;font-weight:600;font-size:12px}
.v.vc{color:var(--cyan)}.v.tc{color:var(--purple)}.v.oi{color:var(--orange)}.v.na{color:var(--text3);font-weight:400;font-size:11px}
.ch{display:inline-flex;align-items:center;gap:2px;padding:2px 7px;border-radius:5px;font-family:'JetBrains Mono',monospace;font-size:10px;font-weight:600}
.ch.up{color:var(--green);background:rgba(0,214,143,.06)}.ch.dn{color:var(--red);background:rgba(255,92,107,.06)}.ch.na{color:var(--text3);background:rgba(88,96,136,.08)}
.sb{width:60px;height:4px;background:rgba(20,24,40,.8);border-radius:2px;overflow:hidden}
.sf{height:100%;border-radius:2px;transition:width .6s cubic-bezier(.22,1,.36,1)}

.otc-tbl{min-width:660px}
.otc-tbl td,.otc-tbl th{padding:10px 14px}
.price-range{display:inline-flex;align-items:center;gap:3px;padding:3px 9px;border-radius:6px;background:rgba(76,124,247,.06);border:1px solid rgba(76,124,247,.1);font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:600;color:var(--blue)}
.price-range .sep{color:var(--text3);font-weight:400;margin:0 1px}

.tags{display:flex;flex-wrap:wrap;gap:5px}
.tag{display:inline-block;padding:3px 10px;border-radius:20px;font-size:10px;font-weight:600;letter-spacing:.1px;white-space:nowrap;line-height:1.5}
.tag-hot{background:rgba(255,60,60,.1);color:#ff4d4d;border:1px solid rgba(255,60,60,.2)}
.tag-late{background:rgba(255,180,40,.1);color:#ffb428;border:1px solid rgba(255,180,40,.2)}
.tag-early{background:rgba(0,214,143,.1);color:#00d68f;border:1px solid rgba(0,214,143,.2)}
.tag-under{background:rgba(157,108,247,.1);color:#b48cf7;border:1px solid rgba(157,108,247,.2)}
.tag-tge{background:rgba(29,233,194,.1);color:#1de9c2;border:1px solid rgba(29,233,194,.2)}

.chart-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:18px}
.chart-card{background:linear-gradient(170deg,rgba(12,16,32,.92),rgba(8,12,24,.96));border:1px solid rgba(20,28,52,.5);border-radius:14px;padding:20px;position:relative;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,.02),0 2px 8px rgba(0,0,0,.1)}
.chart-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(76,124,247,.12),transparent)}
.chart-card h3{font-size:12px;font-weight:700;color:var(--text2);margin-bottom:16px;display:flex;align-items:center;gap:6px}
.chart-card h3 .cdot{width:8px;height:8px;border-radius:3px}
.bar-chart{display:flex;align-items:flex-end;gap:6px;height:180px;padding-bottom:24px;position:relative}
.bar-chart::after{content:'';position:absolute;bottom:24px;left:0;right:0;height:1px;background:var(--border)}
.bar-item{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;position:relative}
.bar-col{width:100%;min-width:16px;max-width:40px;border-radius:4px 4px 0 0;cursor:pointer;transition:all .5s cubic-bezier(.22,1,.36,1)}
.bar-col:hover{filter:brightness(1.3)}
.bar-label{font-size:7px;color:var(--text3);font-weight:600;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:48px;position:absolute;bottom:-20px;left:50%;transform:translateX(-50%)}
.bar-val{font-size:8px;color:var(--text2);font-weight:700;font-family:'JetBrains Mono',monospace;position:absolute;top:-14px;left:50%;transform:translateX(-50%);white-space:nowrap}
.oi-notice{display:flex;flex-direction:column;align-items:center;justify-content:center;height:180px;color:var(--text3);text-align:center;gap:8px}
.oi-notice .oi-msg{font-size:12px;font-weight:500}
.oi-notice .oi-sub{font-size:10px;opacity:.7}
.coming-soon{text-align:center;padding:28px;color:var(--text3);font-size:12px;font-weight:500}

footer{padding:24px 0 28px;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px}
.fl{display:flex;align-items:center;gap:14px}
.fl .f-logo{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:700;color:var(--text2)}
.fl .fm{width:20px;height:20px;border-radius:5px;background:var(--grad1);display:flex;align-items:center;justify-content:center;font-size:9px;color:#fff;font-weight:900;box-shadow:0 0 10px rgba(76,124,247,.2)}
.fl .sep{width:1px;height:14px;background:var(--border2)}
.fl .fsrc{font-size:10px;color:var(--text3)}
.fl a{color:var(--blue);text-decoration:none;font-weight:600}
.fr-b{display:flex;align-items:center;gap:6px;padding:6px 14px;border-radius:8px;background:var(--bg3);border:1px solid var(--border);font-size:11px;color:var(--text3);transition:all .25s;text-decoration:none}
.fr-b:hover{border-color:var(--border3);background:var(--bg4);color:var(--text2);transform:translateY(-1px)}
.fr-b strong{background:var(--grad1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}

.tip{position:fixed;padding:5px 9px;border-radius:6px;background:rgba(18,24,44,.95);border:1px solid var(--border2);font-size:10px;color:var(--text);pointer-events:none;z-index:200;white-space:nowrap;box-shadow:0 6px 20px rgba(0,0,0,.5);display:none;font-weight:600;font-family:'JetBrains Mono',monospace}

/* Debug panel */
.dbg{margin:12px 0;padding:12px 16px;background:rgba(255,170,44,.04);border:1px solid rgba(255,170,44,.12);border-radius:10px;font-size:10px;color:var(--text3);max-height:200px;overflow-y:auto;font-family:'JetBrains Mono',monospace;display:none}
.dbg.show{display:block}
.dbg .hit{color:var(--green)}.dbg .miss{color:var(--red)}

@media(max-width:1024px){.snap-grid{grid-template-columns:repeat(2,1fr)}.chart-grid{grid-template-columns:1fr}}
@media(max-width:640px){.wrap{padding:0 12px}.hero{padding:24px 0 6px}.snap-grid{grid-template-columns:1fr 1fr;gap:8px}.mc{padding:14px 12px}.nav-chip{display:none}.si{width:100%}.t-bar{flex-direction:column;align-items:stretch}.sw{width:100%}footer{flex-direction:column;align-items:flex-start}}
@media(max-width:400px){.snap-grid{grid-template-columns:1fr}}
</style>
</head>
<body>

<div class="ambient"><div class="orb o1"></div><div class="orb o2"></div><div class="orb o3"></div><div class="orb o4"></div></div>
<div class="tip" id="tip"></div>

<div class="top-banner"><span>âš¡ Built by<a href="https://x.com/0xdierich" target="_blank"> @0xdierich</a> â€” Tracking the pulse of on-chain perpetual markets</span></div>

<nav><div class="wrap"><div class="nav-inner">
  <a href="#" class="logo"><div class="logo-mark">P</div><div class="logo-text">PERPLEX<span class="logo-sub">Perp DEX Overview Â· DefiLlama</span></div></a>
  <div class="nav-r">
    <div class="nav-chip"><div class="dot"></div><span id="cd">--:--:--</span></div>
    <button class="rbtn" id="rb" onclick="go()"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>Refresh</button>
  </div>
</div></div></nav>

<section class="hero"><div class="wrap">
  <div class="hero-badge"><div class="hbd"></div>Perpetual DEX Overview Â· DefiLlama</div>
  <h1>Real-time <span class="g1">Perp Liquidity</span><br>across crypto markets</h1>
  <p>Daily perp volume and TVL metrics for curated on-chain derivatives venues. Updated every 24h directly from the DefiLlama API.</p>
  <div class="status-row">
    <div class="sr-chip">Tracked Perp DEXs: <strong id="dc">35</strong></div>
    <div class="sr-chip">Last update: <strong id="lu">â€”</strong></div>
    <div class="sr-chip" id="stag"><span id="stxt">Syncingâ€¦</span></div>
  </div>
</div></section>

<section class="wrap"><div class="snap-panel">
  <div class="snap-header">Perp Market Snapshot</div>
  <div class="snap-grid" id="sg"></div>
</div></section>

<section class="wrap dom-wrap">
  <div class="dom-card"><div class="dom-hd"><h2>Volume Dominance <span class="dim">24h perp volume share</span></h2><div class="tl" id="tvl1"></div></div><div class="dom-bar" id="dvb"></div><div class="dom-leg" id="dvl"></div></div>
  <div class="dom-card"><div class="dom-hd"><h2>TVL Dominance <span class="dim">Perp liquidity share</span></h2><div class="tl" id="tvl2"></div></div><div class="dom-bar" id="dtb"></div><div class="dom-leg" id="dtl"></div></div>
</section>

<section class="wrap t-sec">
  <div class="t-bar">
    <div class="tabs" id="tg"></div>
    <div class="sw"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg><input class="si" type="text" placeholder="Search protocol or chainâ€¦" oninput="cF=this.value;renderT()"/></div>
  </div>
  <div class="tw"><div class="tsc"><table class="main-tbl"><thead><tr id="th"></tr></thead><tbody id="tb"></tbody></table></div></div>
</section>

<section class="wrap">
  <div class="panel">
    <div class="panel-hd"><h2>OTC Points Pricing</h2><span style="font-size:10px;color:var(--text3)" id="otcDate"></span></div>
    <div class="tw"><div class="tsc"><table class="otc-tbl">
      <thead><tr><th style="width:36px;text-align:center">#</th><th>Protocol</th><th>Labels</th><th>OTC Price Range</th><th>Mid Price</th></tr></thead>
      <tbody id="otcBody"></tbody>
    </table></div></div>
  </div>
</section>

<section class="wrap">
  <div class="panel-hd" style="margin-bottom:14px"><h2 style="font-size:13px;font-weight:700;color:var(--text2)">Top Perp DEXs â€” Volume vs Open Interest</h2></div>
  <div class="chart-grid">
    <div class="chart-card"><h3><span class="cdot" style="background:var(--cyan)"></span>24h Perp Volume â€” Top 10</h3><div class="bar-chart" id="volChart"></div></div>
    <div class="chart-card"><h3><span class="cdot" style="background:var(--orange)"></span>Open Interest â€” Top 10</h3><div class="oi-notice"><div class="oi-msg">Open Interest data is not available yet</div><div class="oi-sub">This chart will be populated once OI data becomes accessible via API</div></div></div>
  </div>
</section>

<section class="wrap"><div class="panel"><div class="coming-soon">More charts & analytics coming soonâ€¦</div></div></section>

<section class="wrap"><footer>
  <div class="fl"><div class="f-logo"><div class="fm">P</div>PERPLEX</div><div class="sep"></div><div class="fsrc">Data from <a href="https://defillama.com" target="_blank">DefiLlama</a> API</div></div>
  <a href="https://x.com/0xdierich" target="_blank" class="fr-b">âš¡ Built by <strong>&nbsp;@0xdierich</strong></a>
</footer></section>

<script>
const CC=['#4c7cf7','#9d6cf7','#1de9c2','#00d68f','#ffaa2c','#ff5c6b','#f76cb4','#14b8a6','#f97316','#6366f1','#84cc16','#e879f9','#22d3ee','#fb923c','#a78bfa','#34d399','#fbbf24','#f472b6','#38bdf8','#c084fc','#4ade80','#fb7185','#2dd4bf','#a3e635','#facc15','#818cf8','#7dd3fc','#d946ef','#f0abfc','#bef264','#fda4af','#5eead4','#fcd34d','#c4b5fd','#67e8f9'];
const EE=['ðŸŸ¢','ðŸ”µ','âš¡','ðŸ’Ž','ðŸŒ€','ðŸ”·','ðŸŽ¯','ðŸ¬','ðŸ”¶','ðŸŸ£','ðŸŒ™','ðŸ”´','â¬¡','ðŸ‡','ðŸŸ ','ðŸ’œ','ðŸŒŸ','â­','ðŸ”¥','ðŸ’«','âœ¨','ðŸª','ðŸŒˆ','ðŸŽª','ðŸ†','ðŸŽ²','ðŸŽ®','ðŸš€','ðŸ’°','ðŸ¦','ðŸ‰','ðŸ¦…','ðŸ¦Š','ðŸº','ðŸ¦ˆ'];

/*
  SLUG MAPPING â€” corrected based on actual DefiLlama URLs:
  
  Volume API (derivatives overview): uses slug from vd.protocols
  TVL API (protocols): uses slug from td array
  
  Key fixes:
  - GRVT perps slug = "grvt-perps" in derivatives
  - Reya perps slug = "reya-perps" in derivatives  
  - Nado perps slug = "nado-perps" in derivatives
  - TreadFi perps slug = "tread.fi-perps" in derivatives
  - Trade XYZ slug = "tradexyz" in derivatives
  - Lighter perps slug = "lighter-perps" in derivatives
  - Kuru uses dexVolume not derivatives
  - Ethereal = "ethereal-dex" in TVL
*/
const SL={
  'Hyperliquid':   {v:['hyperliquid-perps','hyperliquid'],                  t:['hyperliquid']},
  'Aster':         {v:['aster-perps','aster'],                              t:['aster-dex','aster']},
  'edgeX':         {v:['edgex','edgex-perps'],                              t:['edgex']},
  'Lighter':       {v:['lighter-perps','lighter','lighter-v2'],             t:['lighter-v2','lighter']},
  'Paradex':       {v:['paradex','paradex-perps'],                          t:['paradex']},
  'GRVT':          {v:['grvt-perps','grvt'],                                t:['grvt']},
  'Extended':      {v:['extended','extended-perps'],                        t:['extended']},
  'Ostium':        {v:['ostium','ostium-perps'],                            t:['ostium']},
  'ApeX Omni':     {v:['apex-omni','apex-omni-perps'],                     t:['apex-omni']},
  'Pacifica':      {v:['pacifica','pacifica-perps'],                        t:['pacifica']},
  'Variational':   {v:['variational','variational-perps'],                  t:['variational']},
  'Avantis':       {v:['avantis','avantis-perps'],                          t:['avantis']},
  'Hibachi':       {v:['hibachi','hibachi-perps'],                          t:['hibachi']},
  'Reya':          {v:['reya-perps','reya','reya-network'],                 t:['reya-network','reya']},
  'Ethereal':      {v:['ethereal-exchange','ethereal-dex','ethereal'],      t:['ethereal-dex','ethereal']},
  'StandX':        {v:['standx','standx-perps'],                           t:['standx']},
  'Nado':          {v:['nado-perps','nado'],                                t:['nado']},
  'Cascade':       {v:['cascade','cascade-perps'],                          t:['cascade']},
  'TreadFi':       {v:['tread.fi-perps','treadfi-perps','treadfi','tread.fi'],t:['treadfi','tread.fi']},
  'Risex Trade':   {v:['risex-trade','risex'],                              t:['risex-trade']},
  '01 Exchange':   {v:['01-exchange'],                                      t:['01-exchange']},
  'BasedApp':      {v:['basedapp'],                                         t:['basedapp']},
  'Dreamcash':     {v:['dreamcash'],                                        t:['dreamcash']},
  'Trade XYZ':     {v:['tradexyz','trade-xyz','trade-xyz-perps'],           t:['trade-xyz','tradexyz']},
  'Hotstuff':      {v:['hotstuff'],                                         t:['hotstuff']},
  'GTE':           {v:['gte'],                                              t:['gte']},
  'Dango':         {v:['dango'],                                            t:['dango']},
  'Valhalla DeFi': {v:['valhalla-defi'],                                    t:['valhalla-defi']},
  'Backpack':      {v:['backpack','backpack-perps'],                        t:['backpack']},
  'perpl':         {v:['perpl'],                                            t:['perpl']},
  'Kuru':          {v:['kuru','kuru-perps'],                                t:['kuru']},
  'Bulk':          {v:['bulk'],                                             t:['bulk']},
  'Titan Exchange':{v:['titan-exchange','titan-protocol'],                  t:['titan-protocol','titan-exchange']},
  'Liquid':        {v:['liquid-perps','liquid'],                            t:['liquid-perps','liquid']},
  'HyENA':         {v:['hyena','hyena-perps'],                              t:['hyena']},
};

const OTC_DATA=[
  {name:'Variational',low:25,high:35,tags:['hot']},
  {name:'edgeX',low:20,high:30,tags:['late','hot']},
  {name:'GRVT',low:15,high:20,tags:['late']},
  {name:'Nado',low:1,high:3,tags:['early','hot']},
  {name:'Extended',low:2,high:3,tags:['late','hot']},
  {name:'Reya',low:1.5,high:2,tags:['late']},
  {name:'Pacifica',low:0.5,high:0.75,tags:[]},
  {name:'Hibachi',low:0.25,high:0.5,tags:['under']},
  {name:'Backpack',low:0.27,high:0.35,tags:['tge','late']},
  {name:'Paradex',low:0.18,high:0.25,tags:['tge','late']},
  {name:'Ethereal',low:0.01,high:0.012,tags:['early','under']},
  {name:'HyENA',low:0.007,high:0.01,tags:['early','under']},
];
const TAG_MAP={hot:{label:'Hot',cls:'tag-hot'},late:{label:'Late',cls:'tag-late'},early:{label:'So early',cls:'tag-early'},under:{label:'Underfarmed',cls:'tag-under'},tge:{label:'Close to TGE',cls:'tag-tge'}};

const NM=Object.keys(SL);let D=[],cS='volume',cD='desc',cF='';

function fm(n){if(n==null)return'â€”';if(n>=1e9)return'$'+(n/1e9).toFixed(2)+'B';if(n>=1e6)return'$'+(n/1e6).toFixed(2)+'M';if(n>=1e3)return'$'+(n/1e3).toFixed(1)+'K';return'$'+n.toFixed(0)}
function fmP(n){if(n>=100)return'$'+n.toFixed(0);if(n>=1)return'$'+n.toFixed(2);if(n>=0.01)return'$'+n.toFixed(3);return'$'+n.toFixed(4)}
function cH(v){if(v==null)return'<span class="ch na">â€”</span>';if(v>=0)return`<span class="ch up">â–²${v.toFixed(2)}%</span>`;return`<span class="ch dn">â–¼${Math.abs(v).toFixed(2)}%</span>`}

const COLS=[{id:'r',l:'#',w:'40px',al:'center'},{id:'n',l:'Perp DEX',sk:'name'},{id:'v',l:'24H Volume',sk:'volume'},{id:'vc',l:'Vol Î”',sk:'volChange'},{id:'oi',l:'Open Interest',sk:'oi'},{id:'t',l:'TVL',sk:'tvl'},{id:'tc',l:'TVL Î”',sk:'tvlChange'},{id:'s',l:'Vol %',w:'85px'}];
const TABS=[{l:'Volume',s:'volume'},{l:'TVL',s:'tvl'},{l:'Open Interest',s:'oi'},{l:'Movers',s:'volChange'},{l:'A â†’ Z',s:'name'}];

function bH(){document.getElementById('th').innerHTML=COLS.map(c=>{if(!c.sk)return`<th style="${c.w?'width:'+c.w:''}${c.al?';text-align:'+c.al:''}">${c.l}</th>`;const a=cS===c.sk;return`<th style="${c.w?'width:'+c.w:''}"><span class="ths ${a?'act':''}" onclick="ts('${c.sk}')">${c.l}<span class="sa"><span class="a ${a&&cD==='asc'?'on':''}">â–²</span><span class="a ${a&&cD==='desc'?'on':''}">â–¼</span></span></span></th>`}).join('')}
function bT(){document.getElementById('tg').innerHTML=TABS.map(t=>`<button class="tb ${cS===t.s?'on':''}" onclick="ss('${t.s}',this)">${t.l}</button>`).join('')}
function ts(k){if(cS===k)cD=cD==='desc'?'asc':'desc';else{cS=k;cD=k==='name'?'asc':'desc'}bH();bT();renderT()}
function ss(s){cS=s;cD=s==='name'?'asc':'desc';bH();bT();renderT()}

async function go(){
  const btn=document.getElementById('rb'),st=document.getElementById('stxt'),stag=document.getElementById('stag');
  btn.classList.add('spin');btn.disabled=true;st.textContent='Syncingâ€¦';stag.className='sr-chip';
  try{
    const[vr,tr]=await Promise.all([
      fetch('https://api.llama.fi/overview/derivatives?excludeTotalDataChart=true&excludeTotalDataChartBreakdown=true'),
      fetch('https://api.llama.fi/protocols')
    ]);
    if(!vr.ok||!tr.ok)throw 0;
    const vd=await vr.json(),td=await tr.json();

    // Build volume lookup: index by multiple keys (lowercase)
    const vm={};
    if(vd.protocols)vd.protocols.forEach(p=>{
      const keys=new Set();
      [p.defillamaId,p.slug,p.name,p.displayName,p.module].forEach(k=>{
        if(k){
          keys.add(String(k).toLowerCase());
          keys.add(String(k).toLowerCase().replace(/\s+/g,'-'));
          // Also strip "derivatives/" prefix from module
          if(String(k).includes('/'))keys.add(String(k).split('/').pop().toLowerCase());
        }
      });
      keys.forEach(k=>vm[k]=p);
    });

    // Build TVL lookup
    const tm={};
    td.forEach(p=>{
      const keys=new Set();
      [p.slug,p.name,p.defillamaId].forEach(k=>{
        if(k){
          keys.add(String(k).toLowerCase());
          keys.add(String(k).toLowerCase().replace(/\s+/g,'-'));
        }
      });
      keys.forEach(k=>tm[k]=p);
    });

    // Resolve each protocol
    D=NM.map((name,i)=>{
      const sl=SL[name];

      // Find volume entry: try each candidate slug
      let vi=null;
      for(const s of sl.v){if(vm[s]){vi=vm[s];break}}
      // Also try the name itself
      if(!vi)vi=vm[name.toLowerCase()]||vm[name.toLowerCase().replace(/\s+/g,'-')]||null;

      let vol=null,vc=null,oi=null;
      if(vi){
        vol=vi.total24h||vi.dailyVolume||vi.total24h||null;
        vc=vi.change_1d??null;
        oi=vi.openInterest||vi.currentOI||vi.totalOI||vi.dailyOpenInterest||null;
        if(vc==null&&vi.total48hto24h&&vi.total24h){
          const prev=vi.total48hto24h;if(prev>0)vc=((vi.total24h-prev)/prev)*100;
        }
      }

      // Find TVL entry
      let ti=null;
      for(const s of sl.t){if(tm[s]){ti=tm[s];break}}
      if(!ti)ti=tm[name.toLowerCase()]||tm[name.toLowerCase().replace(/\s+/g,'-')]||null;

      let tvl=null,tc=null,ch='â€”';
      if(ti){
        tvl=ti.tvl||null;
        tc=ti.change_1d??null;
        ch=ti.chain||ti.chains?.join(', ')||'â€”';
      }
      if(ch==='â€”'&&vi)ch=vi.chains?.join(', ')||vi.chain||'â€”';

      return{name,chain:ch,emoji:EE[i%EE.length],color:CC[i%CC.length],
        volume:vol?Math.round(vol):null,tvl:tvl?Math.round(tvl):null,
        oi:oi?Math.round(oi):null,
        volumeChange:vc!=null?+vc.toFixed(2):null,
        tvlChange:tc!=null?+tc.toFixed(2):null,
        has:vol!=null||tvl!=null};
    });

    const found=D.filter(d=>d.has).length;
    st.textContent=`Synced ${found} protocols`;stag.className='sr-chip ok';
    stamp();renderAll();
  }catch(e){
    console.error(e);st.textContent='Offline â€” sample data';stag.className='sr-chip err';fb();renderAll();
  }
  btn.classList.remove('spin');btn.disabled=false;
}

function fb(){
  const d=new Date(),seed=d.getFullYear()*1e4+(d.getMonth()+1)*100+d.getDate();
  const sr=s=>{let x=Math.sin(s)*1e4;return x-Math.floor(x)};
  const b=[8500e6,2200e6,1200e6,950e6,800e6,700e6,550e6,420e6,350e6,280e6,220e6,180e6,150e6,120e6,100e6,85e6,70e6,55e6,42e6,35e6,28e6,22e6,18e6,15e6,12e6,9e6,7e6,5e6,4e6,3e6,2e6,1.5e6,1e6,.7e6,.4e6];
  D=NM.map((n,i)=>{const s=seed+i*137,base=b[i]||1e6;return{name:n,chain:'â€”',emoji:EE[i%EE.length],color:CC[i%CC.length],volume:Math.round(base*(.8+sr(s)*.4)),tvl:Math.round(base*(.05+sr(s+1e3)*.15)),oi:null,volumeChange:+((sr(s+2e3)-.45)*50).toFixed(2),tvlChange:+((sr(s+3e3)-.45)*25).toFixed(2),has:true}});stamp()
}

function stamp(){const n=new Date(),p=x=>(''+x).padStart(2,'0');document.getElementById('lu').textContent=`${n.getFullYear()}-${p(n.getMonth()+1)}-${p(n.getDate())} ${p(n.getHours())}:${p(n.getMinutes())} UTC`;document.getElementById('dc').textContent=NM.length}

function renderM(){
  const wv=D.filter(d=>d.volume),wt=D.filter(d=>d.tvl);
  const tv=wv.reduce((s,d)=>s+d.volume,0),tt=wt.reduce((s,d)=>s+d.tvl,0);
  const topV=[...wv].sort((a,b)=>b.volume-a.volume)[0],topT=[...wt].sort((a,b)=>b.tvl-a.tvl)[0];
  document.getElementById('sg').innerHTML=`
    <div class="mc"><div class="mc-label"><span class="mc-dot" style="background:var(--cyan)"></span>Total 24H Perp Volume</div><div class="mc-value mcv-cyan">${fm(tv)}</div><div class="mc-sub">Across ${wv.length} venues</div></div>
    <div class="mc"><div class="mc-label"><span class="mc-dot" style="background:var(--purple)"></span>Total TVL</div><div class="mc-value mcv-purple">${fm(tt)}</div><div class="mc-sub">${wt.length} venues</div></div>
    <div class="mc"><div class="mc-label"><span class="mc-dot" style="background:var(--blue)"></span>Top by Volume</div><div class="mc-value mcv-white">${topV?topV.name:'â€”'}</div><div class="mc-sub">${topV?fm(topV.volume)+' daily volume':''}</div></div>
    <div class="mc"><div class="mc-label"><span class="mc-dot" style="background:var(--green)"></span>Top by TVL</div><div class="mc-value mcv-white">${topT?topT.name:'â€”'}</div><div class="mc-sub">${topT?fm(topT.tvl)+' locked':''}</div></div>`;
}

function renderD(){
  const mk=(data,key,bId,lId,tId)=>{
    const items=data.filter(d=>d[key]).sort((a,b)=>b[key]-a[key]);const tot=items.reduce((s,d)=>s+d[key],0);if(!tot)return;
    const top=items.slice(0,10),rest=items.slice(10).reduce((s,d)=>s+d[key],0);
    if(tId&&items[0])document.getElementById(tId).innerHTML=`Top: <strong>${items[0].name}</strong>`;
    document.getElementById(bId).innerHTML=top.map(d=>{const p=d[key]/tot*100;return`<div class="dom-seg" style="width:${Math.max(p,.4)}%;background:${d.color}" data-tip="${d.name}: ${p.toFixed(1)}%" onmouseenter="sT(event,this)" onmouseleave="hT()"></div>`}).join('')+(rest>0?`<div class="dom-seg" style="width:${rest/tot*100}%;background:#1a2038" data-tip="Others: ${(rest/tot*100).toFixed(1)}%" onmouseenter="sT(event,this)" onmouseleave="hT()"></div>`:'');
    document.getElementById(lId).innerHTML=top.slice(0,8).map(d=>`<div class="dli"><div class="dld" style="background:${d.color}"></div>${d.emoji} ${d.name} <strong>${(d[key]/tot*100).toFixed(1)}%</strong></div>`).join('');
  };mk(D,'volume','dvb','dvl','tvl1');mk(D,'tvl','dtb','dtl','tvl2');
}

function gS(){
  let d=[...D];if(cF){const f=cF.toLowerCase();d=d.filter(x=>x.name.toLowerCase().includes(f)||x.chain.toLowerCase().includes(f))}
  const dir=cD==='asc'?1:-1;
  switch(cS){case'volume':d.sort((a,b)=>((b.volume||0)-(a.volume||0))*dir);break;case'tvl':d.sort((a,b)=>((b.tvl||0)-(a.tvl||0))*dir);break;case'oi':d.sort((a,b)=>((b.oi||0)-(a.oi||0))*dir);break;case'name':d.sort((a,b)=>a.name.localeCompare(b.name)*dir);break;case'volChange':d.sort((a,b)=>((b.volumeChange||-9999)-(a.volumeChange||-9999))*dir);break;case'tvlChange':d.sort((a,b)=>((b.tvlChange||-9999)-(a.tvlChange||-9999))*dir);break}return d;
}

function renderT(){
  const sorted=gS(),maxV=Math.max(...D.filter(d=>d.volume).map(d=>d.volume),1),totalV=D.filter(d=>d.volume).reduce((s,d)=>s+d.volume,0)||1;
  const tb=document.getElementById('tb');
  if(!sorted.length){tb.innerHTML='<tr><td colspan="8" style="text-align:center;padding:40px;color:var(--text3)">No results</td></tr>';return}
  tb.innerHTML=sorted.map((d,i)=>{
    const rc=i===0?'g':i===1?'s':i===2?'b':'';const pct=d.volume?Math.round(d.volume/maxV*100):0;const vp=d.volume?((d.volume/totalV)*100).toFixed(1):'â€”';
    return`<tr><td style="text-align:center"><div class="rk ${rc}">${i+1}</div></td><td><div class="dc"><div class="dav" style="background:${d.color}10;border:1px solid ${d.color}20">${d.emoji}</div><div class="dnf"><h4>${d.name}</h4><span>${d.chain}</span></div></div></td><td>${d.volume!=null?`<span class="v vc">${fm(d.volume)}</span>`:'<span class="v na">No data</span>'}</td><td>${cH(d.volumeChange)}</td><td>${d.oi!=null?`<span class="v oi">${fm(d.oi)}</span>`:'<span class="v na">â€”</span>'}</td><td>${d.tvl!=null?`<span class="v tc">${fm(d.tvl)}</span>`:'<span class="v na">No data</span>'}</td><td>${cH(d.tvlChange)}</td><td><div style="display:flex;align-items:center;gap:5px"><div class="sb"><div class="sf" style="width:${pct}%;background:${d.color}"></div></div><span style="font-size:8px;color:var(--text3);font-family:'JetBrains Mono',monospace;font-weight:600">${vp}%</span></div></td></tr>`;
  }).join('');
}

function renderOTC(){
  const now=new Date(),pad=x=>(''+x).padStart(2,'0');
  document.getElementById('otcDate').textContent=`${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())} 00:00 UTC`;
  document.getElementById('otcBody').innerHTML=OTC_DATA.map((d,i)=>{
    const mid=(d.low+d.high)/2;
    const tH=d.tags.length?`<div class="tags">${d.tags.map(t=>{const m=TAG_MAP[t];return m?`<span class="tag ${m.cls}">${m.label}</span>`:''}).join('')}</div>`:'<span style="color:var(--text3);font-size:10px">â€”</span>';
    return`<tr><td style="text-align:center"><span style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text3);font-weight:700">${i+1}</span></td><td><strong style="font-size:12px">${d.name}</strong></td><td>${tH}</td><td><div class="price-range">${fmP(d.low)}<span class="sep">â€”</span>${fmP(d.high)}</div></td><td><span style="font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:700;color:var(--cyan)">${fmP(mid)}</span></td></tr>`;
  }).join('');
}

function renderCharts(){
  const vs=[...D].filter(d=>d.volume).sort((a,b)=>b.volume-a.volume).slice(0,10);
  const mx=vs[0]?.volume||1;
  document.getElementById('volChart').innerHTML=vs.map(d=>{
    const h=Math.max((d.volume/mx)*140,6);
    return`<div class="bar-item"><div class="bar-val">${fm(d.volume)}</div><div class="bar-col" style="height:${h}px;background:linear-gradient(180deg,var(--cyan),rgba(29,233,194,.3))" data-tip="${d.name}: ${fm(d.volume)}" onmouseenter="sT(event,this)" onmouseleave="hT()"></div><div class="bar-label">${d.name}</div></div>`;
  }).join('');
}

function renderAll(){renderM();renderD();bH();bT();renderT();renderOTC();renderCharts()}
function sT(e,el){const t=document.getElementById('tip');t.textContent=el.dataset.tip;t.style.display='block';const r=el.getBoundingClientRect();t.style.left=Math.min(r.left+r.width/2-t.offsetWidth/2,innerWidth-t.offsetWidth-8)+'px';t.style.top=r.top-28+'px'}
function hT(){document.getElementById('tip').style.display='none'}
function tick(){const n=new Date(),t=new Date(n);t.setUTCDate(t.getUTCDate()+1);t.setUTCHours(0,0,0,0);const d=t-n,h=Math.floor(d/36e5),m=Math.floor(d%36e5/6e4),s=Math.floor(d%6e4/1e3);document.getElementById('cd').textContent=`${(''+h).padStart(2,'0')}:${(''+m).padStart(2,'0')}:${(''+s).padStart(2,'0')}`}
bH();bT();setInterval(tick,1e3);tick();go();
</script>
</body>
</html>